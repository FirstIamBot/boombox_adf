# –û—Ç—á—ë—Ç –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞–º—è—Ç–∏ ESP32 Boombox ADF

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ  
**–ü—Ä–æ–µ–∫—Ç:** boombox_adf  
**ESP-IDF:** v5.4.0  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** ESP32 —Å PSRAM 4MB

---

## 1. –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

### –û–±—â–∞—è –∫–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ (–∏–∑ xtensa-esp32-elf-size)

| –°–µ–∫—Ü–∏—è               | –†–∞–∑–º–µ—Ä (–±–∞–π—Ç) | –†–∞–∑–º–µ—Ä (–ö–ë) | –ê–¥—Ä–µ—Å –Ω–∞—á–∞–ª–∞ | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|----------------------|--------------|-------------|--------------|-----------------------------------|
| **.iram0.vectors**   | 1,027        | 1.0         | 0x40080000   | –¢–∞–±–ª–∏—Ü–∞ –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π       |
| **.iram0.text**      | 113,987      | 111.3       | 0x40080404   | –ö–æ–¥ –≤ IRAM (–∫—Ä–∏—Ç–∏—á–Ω—ã–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏) |
| **.dram0.data**      | 26,488       | 25.9        | 0x3ffbdb60   | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ DRAM  |
| **.dram0.bss**       | 54,344       | 53.1        | 0x3ffc42d8   | –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (BSS) |
| **.ext_ram.bss**     | 53,720       | 52.5        | 0x3f800000   | BSS –≤ PSRAM (Bluetooth —Å—Ç–µ–∫–∏)     |
| **.flash.text**      | 1,568,644    | 1,531.9     | 0x403e0020   | –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –≤–æ Flash             |
| **.flash.rodata**    | 645,152      | 630.0       | 0x3f400020   | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–æ Flash       |
| **.flash.rodata_noload** | 12,284   | 12.0        | ‚Äî            | –î–∞–Ω–Ω—ã–µ –±–µ–∑ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏           |
| **.flash.appdesc**   | 256          | 0.25        | ‚Äî            | –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è             |
| **.rtc.force_fast**  | 28           | 0.03        | 0x3ff80000   | RTC Fast Memory                   |
| **.rtc_slow_reserved** | 24         | 0.02        | 0x50000478   | RTC Slow Memory                   |

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –ø–∞–º—è—Ç–∏

| –¢–∏–ø –ø–∞–º—è—Ç–∏   | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ | –î–æ—Å—Ç—É–ø–Ω–æ  | % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                        |
|-------------|--------------|-----------|----------------|-----------------------------------|
| **IRAM**    | 115,014 –ë    | 131,072 –ë | **87.7%**      | ‚ö†Ô∏è –ë–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É               |
| **DRAM**    | 80,832 –ë     | 125,860 –ë | **64.2%**      | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞           |
| **PSRAM**   | 53,720 –ë     | 4,194,304 –ë | 1.3%         | ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ     |
| **Flash (–∫–æ–¥)** | 1,568,644 –ë | ~3,145,728 –ë | 49.9%    | ‚úÖ –î–æ–ø—É—Å—Ç–∏–º–æ                     |
| **Flash (–¥–∞–Ω–Ω—ã–µ)** | 657,436 –ë | ~1,048,576 –ë | 62.7% | ‚úÖ –î–æ–ø—É—Å—Ç–∏–º–æ                     |

---

## 2. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º

### 2.1. Bluetooth (Classic BR/EDR)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ sdkconfig:**
- –†–µ–∂–∏–º: BR/EDR only (BLE –æ—Ç–∫–ª—é—á–µ–Ω)
- –°—Ç–µ–∫ BTU: 4,352 –±–∞–π—Ç
- –°—Ç–µ–∫ BTC: 3,072 –±–∞–π—Ç
- –ú–∞–∫—Å–∏–º—É–º ACL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: 2
- DRAM —Ä–µ–∑–µ—Ä–≤: 56,156 –±–∞–π—Ç (0xdb5c)
- –ü—É—Ç—å SCO –¥–∞–Ω–Ω—ã—Ö: PCM
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —è–¥—Ä—É: 0

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- **PSRAM BSS:** 53,720 –±–∞–π—Ç (–æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ Bluetooth)
  - `libbt.a`: 50,412 –±–∞–π—Ç
  - `libbtdm_app.a`: 2,428 –±–∞–π—Ç
  - `liblwip.a`: 880 –±–∞–π—Ç (–∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

**–ö—Ä—É–ø–Ω–µ–π—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (–∏–∑ –∞–Ω–∞–ª–∏–∑–∞ nm):**
- `a2dp_sink_local_param`: 9,680 –±–∞–π—Ç (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã A2DP Sink)
- `btm_cb`: 2,692 –±–∞–π—Ç (Bluetooth Manager control block)
- `gatt_cb`: 2,300 –±–∞–π—Ç (GATT control block)
- `l2cb`: 2,200 –±–∞–π—Ç (L2CAP control block)
- `a2dp_source_local_param`: 1,752 –±–∞–π—Ç (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã A2DP Source)
- `avdt_cb`: 1,696 –±–∞–π—Ç (AVDTP control block)

---

### 2.2. WiFi

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ sdkconfig:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ RX –±—É—Ñ–µ—Ä—ã: 10
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ RX –±—É—Ñ–µ—Ä—ã: 32
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ TX –±—É—Ñ–µ—Ä—ã: 32
- –†–∞–∑–º–µ—Ä RX –±—É—Ñ–µ—Ä–∞: ~1,600 –±–∞–π—Ç –∫–∞–∂–¥—ã–π
- –†–∞–∑–º–µ—Ä TX –±—É—Ñ–µ—Ä–∞: ~1,600 –±–∞–π—Ç –∫–∞–∂–¥—ã–π
- WiFi task –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —è–¥—Ä—É: 0
- –£–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–µ RX –±—É—Ñ–µ—Ä—ã: 5

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ RX: 10 √ó 1,600 = **16,000 –±–∞–π—Ç**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ RX: 32 √ó 1,600 = **51,200 –±–∞–π—Ç** (max)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ TX: 32 √ó 1,600 = **51,200 –±–∞–π—Ç** (max)
- **–ò—Ç–æ–≥–æ:** ~118 –ö–ë (–ø–∏–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ)

**–ó–∞–¥–∞—á–∏ WiFi Manager:**
- `wifi_mgr`: —Å—Ç–µ–∫ 4,096 –±–∞–π—Ç
- `dns_srv`: —Å—Ç–µ–∫ 4,096 –±–∞–π—Ç

---

### 2.3. LwIP (TCP/IP Stack)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ sdkconfig:**
- TCPIP task —Å—Ç–µ–∫: 3,072 –±–∞–π—Ç
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 18
- –ú–∞–∫—Å–∏–º—É–º TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π: 16
- –ú–∞–∫—Å–∏–º—É–º UDP PCB: 16
- –ú–∞–∫—Å–∏–º—É–º —Å–æ–∫–µ—Ç–æ–≤: 10
- TCP MSS: 1,440 –±–∞–π—Ç
- TCP receive window: 5,760 –±–∞–π—Ç
- TCP send buffer: 5,760 –±–∞–π—Ç
- –†–µ–∂–∏–º: IPv4 + IPv6 dual stack
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è IRAM: –æ—Ç–∫–ª—é—á–µ–Ω–∞

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- TCP PCB: 16 √ó ~256 –±–∞–π—Ç = **4,096 –±–∞–π—Ç**
- UDP PCB: 16 √ó ~128 –±–∞–π—Ç = **2,048 –±–∞–π—Ç**
- –°–æ–∫–µ—Ç—ã: 10 √ó ~100 –±–∞–π—Ç = **1,000 –±–∞–π—Ç**
- –ë—É—Ñ–µ—Ä—ã pbuf: –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞)
- **–ò—Ç–æ–≥–æ:** ~10-15 –ö–ë –±–∞–∑–æ–≤–æ–µ + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –±—É—Ñ–µ—Ä—ã

---

### 2.4. LVGL (GUI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ sdkconfig:**
- –î–∏—Å–ø–ª–µ–π: ILI9341 320√ó240
- –¢–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: SPI HSPI
  - MOSI: GPIO 23
  - CLK: GPIO 18
  - CS: GPIO 3
  - DC: GPIO 2
  - RST: GPIO 4
- Touch: XPT2046 (MISO: GPIO 19)
- –¶–≤–µ—Ç–Ω–æ—Å—Ç—å: RGB565 (16-bit)
- Memory pool: 32,768 –±–∞–π—Ç (32 –ö–ë)
- –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è: 3 (270¬∞)
- DPI: 130
- Refresh period: 30 –º—Å

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- **Memory pool:** 32,768 –±–∞–π—Ç (LVGL heap)
- **Layer buffer:** ~24,000 –±–∞–π—Ç (320√ó240√ó16bit / 10 lines)
- **GUI task —Å—Ç–µ–∫:** 8,192 –±–∞–π—Ç
- **–ò—Ç–æ–≥–æ:** ~64 –ö–ë

**–ö—Ä—É–ø–Ω–µ–π—à–∏–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã (glyph_bitmap):**
- –°–∞–º—ã–π –±–æ–ª—å—à–æ–π —à—Ä–∏—Ñ—Ç: 124,867 –±–∞–π—Ç
- –°—Ä–µ–¥–Ω–∏–µ —à—Ä–∏—Ñ—Ç—ã: 28,393, 14,180, 13,875, 11,066, 10,783 –±–∞–π—Ç
- Total bitmap fonts: ~200 –ö–ë –≤–æ Flash (rodata)

---

### 2.5. SI4735 Radio Driver

**–ó–∞–¥–∞—á–∏:**
- –ù–µ —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –∑–∞–¥–∞—á—É "AirRadio" (—Å–º. —Ä–∞–∑–¥–µ–ª 3)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- `ssb_patch_content`: 8,832 –±–∞–π—Ç (–ø–∞—Ç—á –¥–ª—è SSB —Ä–µ–∂–∏–º–∞)
- `Band band[30]`: ~480 –±–∞–π—Ç (—Ç–∞–±–ª–∏—Ü—ã —á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤)
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –≤–æ Flash: ~2 –ö–ë

---

### 2.6. HTTP Streaming / ESP-ADF Audio Pipeline

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- Codec pipeline —ç–ª–µ–º–µ–Ω—Ç—ã: MP3/AAC/FLAC decoders
- HTTP client –±—É—Ñ–µ—Ä—ã
- Audio —ç–ª–µ–º–µ–Ω—Ç –±—É—Ñ–µ—Ä—ã

**–ö—Ä—É–ø–Ω–µ–π—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏/–¥–∞–Ω–Ω—ã–µ:**
- `mp3dec_decode_frame`: 6,171 –±–∞–π—Ç (—Ñ—É–Ω–∫—Ü–∏—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è MP3)
- `work_mem_int$0`: 32,768 –±–∞–π—Ç (—Ä–∞–±–æ—á–∞—è –ø–∞–º—è—Ç—å MP3 –¥–µ–∫–æ–¥–µ—Ä–∞)
- `playlist`: 6,404 –±–∞–π—Ç (—Å–ø–∏—Å–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è)

---

## 3. –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á FreeRTOS

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

| –ò–º—è –∑–∞–¥–∞—á–∏            | –†–∞–∑–º–µ—Ä —Å—Ç–µ–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ü—Ä–∏–≤—è–∑–∫–∞ | –§–∞–π–ª —Å–æ–∑–¥–∞–Ω–∏—è            | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                  |
|-----------------------|--------------|-----------|----------|--------------------------|------------------------------|
| **boombox_task**      | 8,192        | 7         | Any      | main/app_main.c:60       | –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏   |
| **task_gui_calibrate**| 8,192        | 5         | CPU 1    | main/app_main.c:61       | GUI (LVGL) + touch           |
| **audio_equalizer**   | 8,192        | 2         | Any      | main/task/audio_equalizer.c:227 | –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä (–∞–Ω–∞–ª–∏–∑ —Å–ø–µ–∫—Ç—Ä–∞) |
| **wifi_mgr**          | 4,096        | ?         | Any      | esp_wifi_manager.c:302   | –ú–µ–Ω–µ–¥–∂–µ—Ä WiFi                |
| **dns_srv**           | 4,096        | 5         | Any      | esp_wifi_manager_dns.c:204 | DNS —Å–µ—Ä–≤–µ—Ä –¥–ª—è captive portal|
| **mdns recv task**    | 3,072        | 5         | Any      | mdns_networking_socket.c:345 | mDNS –ø—Ä–∏—ë–º–Ω–∏–∫           |
| **mdns** (static)     | MDNS_SERVICE_STACK_DEPTH | MDNS_TASK_PRIORITY | MDNS_TASK_AFFINITY | mdns.c:5482 | mDNS —Å–µ—Ä–≤–∏—Å  |

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–∏–∑ sdkconfig):**
- **BTU**: 4,352 –±–∞–π—Ç, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 19
- **BTC**: 3,072 –±–∞–π—Ç, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 19
- **TCPIP**: 3,072 –±–∞–π—Ç, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 18
- **WiFi task**: 3,072 –±–∞–π—Ç (CONFIG_ESP32_WIFI_TASK_STACK_SIZE)
- **eventLoop**: 2,304 –±–∞–π—Ç
- **IDLE (CPU 0)**: 1,536 –±–∞–π—Ç
- **IDLE (CPU 1)**: 1,536 –±–∞–π—Ç

### –ò—Ç–æ–≥–æ —Å—Ç–µ–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–¥–∞—á: ~41 –ö–ë
### –ò—Ç–æ–≥–æ —Å—Ç–µ–∫–æ–≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–¥–∞—á: ~20 –ö–ë
### **–û–±—â–∏–π —Ä–∞—Å—Ö–æ–¥ –Ω–∞ —Å—Ç–µ–∫–∏: ~61 –ö–ë**

---

## 4. –ö—Ä—É–ø–Ω–µ–π—à–∏–µ —Å–∏–º–≤–æ–ª—ã (Top 20 –ø–æ —Ä–∞–∑–º–µ—Ä—É)

–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ `xtensa-esp32-elf-nm --size-sort`:

| –°–∏–º–≤–æ–ª                      | –†–∞–∑–º–µ—Ä (–±–∞–π—Ç) | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
|-----------------------------|---------------|------|--------------------------------------------|
| **glyph_bitmap (multiple)** | 124,867       | d    | –°–∞–º—ã–π –±–æ–ª—å—à–æ–π —Ä–∞—Å—Ç—Ä–æ–≤—ã–π —à—Ä–∏—Ñ—Ç               |
| `work_mem_int$0`            | 32,768        | b    | –†–∞–±–æ—á–∞—è –ø–∞–º—è—Ç—å MP3 –¥–µ–∫–æ–¥–µ—Ä–∞                |
| `a2dp_sink_local_param`     | 9,680         | b    | A2DP Sink –ø–∞—Ä–∞–º–µ—Ç—Ä—ã                        |
| `glyph_bitmap`              | 8,832         | d    | –†–∞—Å—Ç—Ä–æ–≤—ã–π —à—Ä–∏—Ñ—Ç #2                         |
| `ssb_patch_content`         | 8,832         | D    | SSB –ø–∞—Ç—á –¥–ª—è SI4735                        |
| `glyph_bitmap`              | 8,616         | d    | –†–∞—Å—Ç—Ä–æ–≤—ã–π —à—Ä–∏—Ñ—Ç #3                         |
| `setup_scr_pageAirradio`    | 10,351        | T    | –§—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞ Radio             |
| `setup_scr_pageWebradio`    | 7,527         | T    | –§—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞ Webradio          |
| `setup_scr_Bluetooth`       | 1,815         | T    | –§—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞ Bluetooth         |
| `mdns_parse_packet`         | 7,527         | T    | –ü–∞—Ä—Å–µ—Ä mDNS –ø–∞–∫–µ—Ç–æ–≤                        |
| `http_parser_execute`       | 8,258         | T    | HTTP –ø–∞—Ä—Å–µ—Ä                                |
| `tcp_input`                 | 3,737         | T    | TCP –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—Ö–æ–¥—è—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤             |
| `tcp_receive`               | 2,925         | t    | TCP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏—ë–º–∞                      |
| `mp3dec_decode_frame`       | 6,171         | T    | –î–µ–∫–æ–¥–µ—Ä MP3 —Ñ—Ä–µ–π–º–æ–≤                        |
| `lv_theme_default_init`     | 4,829         | T    | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LVGL —Ç–µ–º—ã                    |
| `theme_apply`               | 3,666         | t    | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ LVGL —Ç–µ–º—ã                       |
| `lv_chart_event`            | 4,845         | t    | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –≥—Ä–∞—Ñ–∏–∫–∞ LVGL            |
| `lv_draw_sw_rect`           | 4,170         | T    | –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ LVGL              |
| `playlist`                  | 6,404         | b    | –ë—É—Ñ–µ—Ä –ø–ª–µ–π–ª–∏—Å—Ç–∞                            |
| `vflash_mem`                | 2,048         | B    | –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è flash –ø–∞–º—è—Ç—å (–±—É—Ñ–µ—Ä)           |

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- –®—Ä–∏—Ñ—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç ~200 –ö–ë –≤–æ Flash rodata (glyph_bitmap –º–∞—Å—Å–∏–≤—ã)
- MP3 –¥–µ–∫–æ–¥–µ—Ä —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç 32 –ö–ë —Ä–∞–±–æ—á–µ–π –ø–∞–º—è—Ç–∏
- Bluetooth A2DP Sink –∑–∞–Ω–∏–º–∞–µ—Ç ~10 –ö–ë –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –§—É–Ω–∫—Ü–∏–∏ setup GUI —ç–∫—Ä–∞–Ω–æ–≤ –∫—Ä—É–ø–Ω—ã–µ (7-10 –ö–ë –∫–∞–∂–¥–∞—è), –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

---

## 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è FreeRTOS

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ sdkconfig

| –ü–∞—Ä–∞–º–µ—Ç—Ä                          | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                                |
|----------------------------------|----------|-----------------------------------------|
| `CONFIG_FREERTOS_HZ`              | 100      | Tick rate = 100 Hz (10 –º—Å –Ω–∞ —Ç–∏–∫)       |
| `CONFIG_FREERTOS_UNICORE`         | n        | Dual-core —Ä–µ–∂–∏–º (SMP)                   |
| `CONFIG_FREERTOS_USE_TICK_HOOK`   | y        | Tick hook –≤–∫–ª—é—á—ë–Ω                       |
| `CONFIG_FREERTOS_WATCHPOINT_END_OF_STACK` | y | –ó–∞—â–∏—Ç–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–µ–∫–∞      |
| `CONFIG_FREERTOS_IDLE_TASK_STACKSIZE` | 1536 | –°—Ç–µ–∫ IDLE –∑–∞–¥–∞—á                    |
| `CONFIG_FREERTOS_CHECK_STACKOVERFLOW_CANARY` | y | –ü—Ä–æ–≤–µ—Ä–∫–∞ stack overflow       |
| `CONFIG_ESP_TASK_WDT_EN`          | y        | Task watchdog –≤–∫–ª—é—á—ë–Ω                   |
| `CONFIG_ESP_TASK_WDT_TIMEOUT_S`   | 5        | –¢–∞–π–º–∞—É—Ç watchdog = 5 —Å–µ–∫—É–Ω–¥             |

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ —è–¥—Ä–∞–º

**CPU 0:**
- WiFi task (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ)
- Bluetooth Controller (CONFIG_BTDM_CTRL_PINNED_TO_CORE=0)
- TCPIP task (no affinity, –Ω–æ —á–∞—Å—Ç–æ –Ω–∞ CPU 0)

**CPU 1:**
- GUI task (task_gui_calibrate) - –ø—Ä–∏–≤—è–∑–∞–Ω —è–≤–Ω–æ
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º

---

## 6. –ö–∞—Ä—Ç–∞ –ª–∏–Ω–∫–æ–≤–∫–∏ (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ–∫—Ü–∏–∏)

### IRAM0 (Instruction RAM - 128 KB)

```
0x40080000 - 0x40080403  .iram0.vectors          1,027 –ë
0x40080404 - 0x4009c147  .iram0.text         113,987 –ë  ‚Üê 87.7% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
```

**–ß—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–æ –≤ IRAM:**
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (ISR handlers)
- WiFi/Bluetooth –¥—Ä–∞–π–≤–µ—Ä—ã
- FreeRTOS –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- Cache –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏

**‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï:** IRAM –ø–æ—á—Ç–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω (87.7%). –î–∞–ª—å–Ω–µ–π—à–µ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –û—Ç–∫–ª—é—á–∏—Ç—å `CONFIG_LWIP_IRAM_OPTIMIZATION` (—É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ ‚úì)
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ Flash —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç—ã
- –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä Bluetooth —Å—Ç–µ–∫–∞

---

### DRAM0 (Data RAM - ~123 KB)

```
0x3ffbdb60 - 0x3ffc42d8  .dram0.data          26,488 –ë
0x3ffc42d8 - 0x3ffd1720  .dram0.bss           54,344 –ë
```

**–ß—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–æ –≤ DRAM:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (.data)
- –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (.bss)
- Heap (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å)
- –°—Ç–µ–∫–∏ –∑–∞–¥–∞—á FreeRTOS (~61 –ö–ë)

**–ë–∞–ª–∞–Ω—Å DRAM:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ: 80,832 –ë
- –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è heap: ~45 –ö–ë
- **‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å 64.2%** - –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ö–≤–∞—Ç–∫–∞ heap

---

### External PSRAM (4 MB)

```
0x3f800000 - 0x3f80d1d8  .ext_ram.bss         53,720 –ë
```

**–ß—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–æ –≤ PSRAM:**
- Bluetooth —Å—Ç–µ–∫–∏ (50 –ö–ë)
- –ë—É—Ñ–µ—Ä—ã WiFi (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è)
- LVGL –±—É—Ñ–µ—Ä—ã (32 –ö–ë memory pool)

**‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** —Ç–æ–ª—å–∫–æ 1.3% –∏–∑ 4 –ú–ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏. –û—Å—Ç–∞–ª—å–Ω–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è.

---

### Flash Memory

```
0x403e0020 - ...  .flash.text          1,568,644 –ë  (–∫–æ–¥)
0x3f400020 - ...  .flash.rodata          645,152 –ë  (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
                  .flash.rodata_noload    12,284 –ë  (–¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏)
```

**–ß—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–æ –≤–æ Flash:**
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (1.5 –ú–ë)
- –°—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–∞–±–ª–∏—Ü—ã
- –†–∞—Å—Ç—Ä–æ–≤—ã–µ —à—Ä–∏—Ñ—Ç—ã (~200 –ö–ë)
- –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (IRAM –±–ª–∏–∑–æ–∫ –∫ –ª–∏–º–∏—Ç—É)

1. **–ê—É–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–π –≤ IRAM:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ IRAM —á–µ—Ä–µ–∑ `.iram.text`
   - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ Flash —á–µ—Ä–µ–∑ `IRAM_ATTR` ‚Üí `FLASH_ATTR`
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É–º–µ–Ω—å—à–µ–Ω–∏–µ `CONFIG_BT_RESERVE_DRAM` (—Å–µ–π—á–∞—Å 0xdb5c = 56 –ö–ë)

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DRAM:**
   - –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö WiFi –±—É—Ñ–µ—Ä–æ–≤ —Å 32 –¥–æ 16:
     ```
     CONFIG_ESP32_WIFI_DYNAMIC_RX_BUFFER_NUM=16
     CONFIG_ESP32_WIFI_DYNAMIC_TX_BUFFER_NUM=16
     ```
   - –≠–∫–æ–Ω–æ–º–∏—è: ~51 –ö–ë DRAM
   
3. **–ü–µ—Ä–µ–Ω–æ—Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ –≤ PSRAM:**
   - `work_mem_int$0` (32 –ö–ë MP3 –¥–µ–∫–æ–¥–µ—Ä) ‚Üí PSRAM
   - `a2dp_sink_local_param` (9.6 –ö–ë) ‚Üí PSRAM
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç `EXT_RAM_BSS_ATTR`

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è GUI:**
   - –®—Ä–∏—Ñ—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç 200 –ö–ë Flash - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∂–∞—Ç–∏–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω—å—à–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –≥–ª–∏—Ñ–æ–≤
   - –§—É–Ω–∫—Ü–∏–∏ `setup_scr_*` –∑–∞–Ω–∏–º–∞—é—Ç 7-10 –ö–ë –∫–∞–∂–¥–∞—è - –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —á–∞—Å—Ç–∏ –≤ shared —Ñ—É–Ω–∫—Ü–∏–∏
   
5. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—Ç–µ–∫–æ–≤ –∑–∞–¥–∞—á:**
   - –ó–∞–¥–∞—á–∏ `boombox_task`, `task_gui_calibrate`, `audio_equalizer` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ 8 –ö–ë
   - –ü—Ä–æ–≤–µ—Å—Ç–∏ runtime –∞–Ω–∞–ª–∏–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–µ–∫–∞ (`uxTaskGetStackHighWaterMark()`)
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è: 4-6 –ö–ë DRAM

6. **TCP/IP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –£–º–µ–Ω—å—à–∏—Ç—å `CONFIG_LWIP_MAX_ACTIVE_TCP` —Å 16 –¥–æ 8 (–µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–Ω–æ–≥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)
   - –£–º–µ–Ω—å—à–∏—Ç—å `CONFIG_LWIP_MAX_SOCKETS` —Å 10 –¥–æ 6
   - –≠–∫–æ–Ω–æ–º–∏—è: ~2-3 –ö–ë DRAM

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)

7. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ heap:**
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ free heap —á–µ—Ä–µ–∑ `esp_get_free_heap_size()`
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å minimum ever free heap –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
   
8. **Bluetooth –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ A2DP Sink (–Ω–µ Source), –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Source —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
   - –£–º–µ–Ω—å—à–∏—Ç—å `CONFIG_BTDM_CTRL_BLE_MAX_CONN_LIMIT` (–≤ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ BLE –æ—Ç–∫–ª—é—á–µ–Ω, OK)

9. **–û—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:**
   - –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω IPv6: `CONFIG_LWIP_IPV6=n`
   - –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω DHCP —Å–µ—Ä–≤–µ—Ä: –æ—Ç–∫–ª—é—á–∏—Ç—å server, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ client

---

## 8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ runtime

### –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```c
// –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ heap
void print_memory_stats(void) {
    ESP_LOGI(TAG, "Free heap: %d bytes", esp_get_free_heap_size());
    ESP_LOGI(TAG, "Min free heap: %d bytes", esp_get_minimum_free_heap_size());
    ESP_LOGI(TAG, "Free PSRAM: %d bytes", heap_caps_get_free_size(MALLOC_CAP_SPIRAM));
}

// –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–µ–∫–æ–≤ –∑–∞–¥–∞—á
void print_task_stack_usage(void) {
    TaskHandle_t handle = xTaskGetHandle("boombox_task");
    if (handle != NULL) {
        UBaseType_t watermark = uxTaskGetStackHighWaterMark(handle);
        ESP_LOGI(TAG, "boombox_task stack free: %d words", watermark);
    }
    // –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á...
}
```

### –í—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ 30 —Å–µ–∫—É–Ω–¥) –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.

---

## 9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

- **PSRAM —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –¥–ª—è Bluetooth —Å—Ç–µ–∫–æ–≤ (53 –ö–ë), –æ—Å–≤–æ–±–æ–∂–¥–∞—è DRAM
- **–°—Ç–µ–∫–∏ –∑–∞–¥–∞—á –≤—ã–¥–µ–ª–µ–Ω—ã –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ** (–ø–æ 8 –ö–ë), —á—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
- **Flash –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ** (50% –∫–æ–¥–∞, 63% –¥–∞–Ω–Ω—ã—Ö)
- **Dual-core SMP** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∏–≤—è–∑–∫–æ–π GUI –∫ CPU 1

### ‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏—è:

- **IRAM –∫—Ä–∏—Ç–∏—á–µ–Ω** (87.7%) - –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–æ
- **DRAM –∑–∞–≥—Ä—É–∂–µ–Ω** (64.2%) - heap –º–æ–∂–µ—Ç –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é
- **WiFi –±—É—Ñ–µ—Ä—ã (64√ó32=~100 –ö–ë)** –∑–∞–Ω–∏–º–∞—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –ü—Ä–æ–≤–µ—Å—Ç–∏ runtime –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–µ–∫–æ–≤ –∑–∞–¥–∞—á
2. –£–º–µ–Ω—å—à–∏—Ç—å WiFi –±—É—Ñ–µ—Ä—ã —Å 32 –¥–æ 16 (—ç–∫–æ–Ω–æ–º–∏—è ~50 –ö–ë)
3. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `work_mem_int` MP3 –¥–µ–∫–æ–¥–µ—Ä–∞ (32 –ö–ë) –≤ PSRAM
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å free heap –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤ `sdkconfig`, `boombox.map` –∏ –≤—ã–≤–æ–¥–∞ `xtensa-esp32-elf-size`/`xtensa-esp32-elf-nm`. –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è runtime —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
